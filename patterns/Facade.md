**این الگو جزئیات کار با یک برنامه پیچیده را مخفی میکند تا کدهایی با حجم کمتر و قابلیت استفاده مجدد تولید کنیم.**

---

فرض کنید میخواهید یک غذای خوب که جزئیات زیادی برای طبخ دارد بخورید.
<br>اگر حوصله یا وقت پخت و پز را ندارید به رستوران میروید و درخواست خود را به پیش خدمت می دهید و پیش خدمت هم آن غذا را برای شما می آورد بدون اینکه درگیر جزئیات پخت و زحمت درست کردن آن بشوید.<br>
در اینجا پیشخدمت نقش Facade را برای شما ایفا می کند تا بدون اینکه درگیر جزئیات ساخت غذا شوید برایتا غذای لذیذی را سرو کند.

**مثال**

تا حالا با کتابخانه یا ابزاری کار کردید که قبل از استفاده از آن، مراحل پیاده‌سازی زیادی را انجام داده باشید؟<br>
مثلا فرض کنید می خواهیم از کتابخانه ای برای ارسال sms در پروژه استفاده کنیم و این کتابخانه به ما این اجازه را میدهد که از سرویس دهنده های مختلفی استفاده کنیم.<br>

کدهایی که این کتابخانه برای ارسال پیام به ما ارائه میدهد به این صورت می باشد:

```sh
class SmsLibrary
{
    public function __construct($client_id, $client_secret, $driver)
    {
        // ...
    }

    public function recipient($phone_number)
    {
        // ...
    }

    public function send($text)
    {
        // send
    }
}
```

که برای استفاده از آن باید چنین کدی بنویسیم:
```sh
$client_id = config('sms.client_id');
$client_secret = config('sms.client_secret');
$sms_driver = config('sms.driver');

$sms = new SmsLibrary($client_id, $client_secret, $sms_driver);

$sms->recipient('+989...');
$sms->send('Welcome. Our app is great!');
```

همان طور که دقت کردید برای ارسال یک پیام باید این همه تنظیمات انجام داد و کار موقعی سختتر می شود که بخواهیم در چند جای مختلف برنامه چنین کاری انجام دهیم.<br>
الگوی Facade اینجا به کار میاد تا این پیچیدگی ها را حذف کرده و در نتیجه کدهایی ساده تر با قابلیت استفاده مجدد داشته باشیم.

## پیاده سازی مثال بالا به وسیله الگوی Facade:
ابتدا یک کلاس می سازیم. این کلاس همان کلاس Facade ما هست که می خواهیم جزئیات را درون آن بنویسیم.<br>
به static بودن متد send توجه نمایید.

```sh
class SmsFacade
{
    public static send($text, $recipient)
    {
        $client_id = config('sms.client_id');
        $client_secret = config('sms.client_secret');
        $sms_driver = config('sms.driver');
    
        $sms = new SmsLibrary($client_id, $client_secret, $sms_driver);
    
        $sms->recipient($recipient);
        $sms->send($text);
    }
}
```
حالا در هر جایی از برنامه که می خواهیم پیام ارسال کنیم کافیست که از این کلاس به صورت زیر استفاده کنیم.

```sh
SmsFacade::send('Welcome!', '+989...');
// ...
SmsFacade::send('Your 2FA code', '+001...');
```

این هم از الگوی Facade، اما همونطور که احتمالا متوجه شدید یکی از ایرادات این الگو این هست که قدرت شخصی سازی و استفاده از همه امکانات کتابخانه شخصی سازی شده را از ما میگیرد و باید به تنظیمات از پیش تعیین شده نویسنده کلاس Facade بسنده کنیم.
